---
// ==========================================
// HOMEPAGE CUSTOMIZATION
// ==========================================
// This is your site's main landing page.
// Customize the content sections, text, and layout below.

import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CityCard from '../components/CityCard.astro';
import WalkCard from '../components/WalkCard.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { getCollection } from 'astro:content';

// Get content for the homepage
const cities = await getCollection('cities');
const walks = await getCollection('walks');
// Change the number (3) to show more/fewer featured walks
const featuredWalks = walks.slice(0, 3);
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			.hero {
				position: relative;
				height: 70vh;
				display: flex;
				align-items: center;
				justify-content: center;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				overflow: hidden;
			}

			.hero::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path fill="%23ffffff" fill-opacity="0.1" d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z"></path></svg>') bottom center no-repeat;
				background-size: cover;
			}

			.hero-content {
				text-align: center;
				color: white;
				z-index: 1;
				padding: 0 2rem;
			}

			.hero h1 {
				font-size: 3.5rem;
				margin-bottom: 1rem;
				text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
			}

			.hero p {
				font-size: 1.5rem;
				margin-bottom: 2rem;
				opacity: 0.9;
			}

			.cta-button {
				display: inline-block;
				padding: 1rem 2rem;
				background: white;
				color: #667eea;
				text-decoration: none;
				border-radius: 50px;
				font-weight: 600;
				transition: transform 0.2s, box-shadow 0.2s;
			}

			.cta-button:hover {
				transform: translateY(-2px);
				box-shadow: 0 10px 20px rgba(0,0,0,0.2);
			}

			section {
				padding: 4rem 0;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 0 2rem;
			}

			h2 {
				text-align: center;
				font-size: 2.5rem;
				margin-bottom: 3rem;
				color: #333;
			}

			.cities-grid, .walks-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 2rem;
			}

			.features {
				background: #f8f9fa;
			}

			.features-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 3rem;
				margin-top: 3rem;
			}

			.feature {
				text-align: center;
			}

			.feature-icon {
				width: 80px;
				height: 80px;
				margin: 0 auto 1.5rem;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
				font-size: 2rem;
			}

			.feature h3 {
				font-size: 1.5rem;
				margin-bottom: 1rem;
				color: #333;
			}

			.feature p {
				color: #666;
				line-height: 1.6;
			}

			.view-all-link {
				text-align: center;
				margin-top: 3rem;
			}

			.view-all-link a {
				display: inline-block;
				padding: 0.75rem 2rem;
				background: #667eea;
				color: white;
				text-decoration: none;
				border-radius: 50px;
				transition: background 0.2s;
			}

			.view-all-link a:hover {
				background: #764ba2;
			}

			@media (max-width: 768px) {
				.hero h1 {
					font-size: 2.5rem;
				}

				.hero p {
					font-size: 1.2rem;
				}

				.cities-grid, .walks-grid {
					grid-template-columns: 1fr;
				}

				h2 {
					font-size: 2rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<!-- ==========================================
			     HERO SECTION - CUSTOMIZE TEXT & DESIGN
			     ========================================== -->
			<section class="hero">
				<div class="hero-content">
					<!-- Main headline - update this text -->
					<h1>Discover Your Next City Walk</h1>
					<!-- Subheading - update this text -->
					<p>Explore curated walking routes in Amsterdam.</p>
					<!-- Call-to-action button - update text and link -->
					<a href="/walks" class="cta-button">Start Exploring</a>
				</div>
			</section>

			<!-- ==========================================
			     FEATURED WALKS SECTION
			     ========================================== -->
			<section>
				<div class="container">
					<!-- Section title -->
					<h2>Featured Walks</h2>
					<!-- This shows the first 3 walks (change number at top of file) -->
					<div class="walks-grid">
						{featuredWalks.map((walk) => (
							<WalkCard
								title={walk.data.title}
								description={walk.data.description}
								city={walk.data.city}
								duration={walk.data.duration}
								distance={walk.data.distance}
								difficulty={walk.data.difficulty}
								coverImage={walk.data.coverImage}
								href={`/walks/${walk.id}`}
							/>
						))}
						{/* MOCK WALKS BELOW */}
						<WalkCard
							title="Mock Walk: Hidden Canals"
							description="A secret route through Amsterdam's lesser-known canals."
							city="amsterdam"
							duration="1 hour"
							distance="2 km"
							difficulty="easy"
							coverImage="/blog-placeholder-1.jpg"
							href="#"
						/>
						<WalkCard
							title="Mock Walk: Art & Parks"
							description="Explore art installations and green spaces in the city."
							city="amsterdam"
							duration="1.5 hours"
							distance="3 km"
							difficulty="moderate"
							coverImage="/blog-placeholder-2.jpg"
							href="#"
						/>
						<WalkCard
							title="Mock Walk: Foodie Tour"
							description="Taste your way through Amsterdam's best street food spots."
							city="amsterdam"
							duration="2 hours"
							distance="2.5 km"
							difficulty="easy"
							coverImage="/blog-placeholder-3.jpg"
							href="#"
						/>
					</div>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>